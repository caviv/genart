<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content_type" content="text/html; charset=utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="application-name" content="Genart City Skyline">
		<meta name="description" content="Genart City Skyline">
		<!-- meta name="application-url" content="https://mail.google.com/mail/u/0/" -->
		<!-- link rel="shortcut icon" href="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" type="image/x-icon" -->
		<!-- link rel="manifest" href="/mail/manifest.json" crossorigin="use-credentials" -->
		<title>Genart City Skyline</title>
		<script src="random.js"></script>
		<script src="building.js"></script>
		<script>
			let config = {
				// buildings
				baseLine:      500,               // where the first line of building is
				baseLineAdd:    100,               // next building line add to baseLine
				buildingLines: ['#666', '#444', '#222'],  // color of building for each line (also the number of lines of buildings)
				//buildingLines: ['#222', '#555', '#777'],  // color of building for each line (also the number of lines of buildings)
				buidlingMargin: [-10, 10],    // margin between buildings min, max
				buidlingWidth:  [40, 200],  // building width min, max
				buidlingHeight: [100, 500], // building height min, max

				// windows
				windowsColors: ["transparent", "yellow", "#efff73", "#555"],
				wh: 5, // window height
        		ww: 3, // window width
        		whm: 7, // window height margin
        		wwm: 7, // window width margin

        		// background
        		background: 'black',
        		//backgroundImg: 'linear-gradient(to right top, #051937, #004d7a, #008793, #00bf72, #a8eb12)',
        		backgroundImg: "url('sky.jpg')",

			}

			function pageloaded(){
				//get a handle for the canvas object
				var canvas = document.getElementById("maincanvas");
				canvas.style.background = config.background;
				canvas.style.backgroundImage = config.backgroundImg;
				
				// Get the 2d context for this canvas
				var ctx = canvas.getContext("2d");
				
				// let b1 = new Building(600, 100, 200, 400, 'black');
				// b1.draw(ctx);

				// let b2 = new Building(700, 400, 100, 300, 'black');
				// b2.draw(ctx);

				// first line of buildings
				for(let l = 0; l < config.buildingLines.length; l++) {
					let x = Rand(config.buidlingMargin[0], config.buidlingMargin[1]);
					while(x < 1400) {
						let width  = Rand(config.buidlingWidth[0], config.buidlingWidth[1]);
						let height = Rand(config.buidlingHeight[0], config.buidlingHeight[1]);
						let b = new Building(config.baseLine + l * config.baseLineAdd, x, width, height, config.buildingLines[l]);
						b.draw(ctx);
						x += width + Rand(config.buidlingMargin[0], config.buidlingMargin[1]);
					}
				}
			}
		</script>
	</head>
	<body onload="pageloaded();">
	<canvas width="1400" height="800" id="maincanvas" style="border: 1px solid black;">
	</canvas>
	</body>
</html>